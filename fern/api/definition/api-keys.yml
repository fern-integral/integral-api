services:
  http:
    ApiKeyService:
      auth: true 
      base-path: /
      endpoints:
        generate:
          display-name: Generate an API key
          docs: > 
            This endpoint is used to generate an API key for a given user. 
            This API key is for the Application User it is assigned for only, and only for your API.
          path: /key/create
          method: POST 
          request:
            name: GenereateApiKeyRequest 
            body:
              properties: 
                applicationUserForeignId:
                  docs: >
                    This is a unique index on your database to find users. 
                    This will allow us to know which API key associates to each user on your application's end.
                  type: optional<string>
                description: 
                  type: optional<string>
                  docs: > 
                    This is the description applied to an API key to identify it for a human. 
                    Use this to describe who the key belongs to, or why this key is relevant/exists.
          response: 
            docs: Returns the device model object if it exists.
            type: ApiKey
          examples: 
            - request:
                applicationUserForeignId: 'my-id' 
                description: My description
              response:
                body: 
                  id: example
                  createdAt: example
                  updatedAt: example
                  deletedAt: example
                  apiKey: example
                  isPaused: false 
                  isRevoked: true 
                  isRotatedOff: false 
                  numOfRequest: 5  
                  firstTimeRequest: example 
                  applicationUser: 
                    id: example
                    createdAt: example
                    updatedAt: example
                    deletedAt: example
                    applicationUserForeignId: example 
        
        revoke: 
          display-name: Revoke an API Key
          docs: | 
            This endpoint is used to revoke a key. 
            Revoking an API key means making all of it's content and previous data still persistent, but no longer usable. 
            Once a key is revoked, it can never be set back to normal.
          path: /keys/revoke 
          method: DELETE 
          request: 
            name: RevokeApiKeyRequest
            body:
              properties: 
                apiKey: 
                  docs: This API key is generated by Integral and passed to the Application User.
                  type: string 
          response: 
            docs: The response of this API request gives back information on an Application User's API Key that was revoked
            type: ApiKey

types: 
  ApiKey: 
    properties:
      id: string
      createdAt: string
      updatedAt: string
      deletedAt: string
      apiKey: string
      isPaused: boolean 
      isRevoked: boolean 
      isRotatedOff: boolean 
      numOfRequest: integer  
      firstTimeRequest: string 
      applicationUser: ApplicationUser 

  ApplicationUser: 
    properties:
      id: string
      createdAt: string
      updatedAt: string
      deletedAt: string
      applicationUserForeignId: string 
